[![Language](https://img.shields.io/badge/python-2.7/3.6%2B-blue.svg)](https://www.python.org/)
![Latest version](https://img.shields.io/badge/latest%20version-v1.2-yellowgreen.svg)
[![License](https://img.shields.io/badge/License-GNU%203.0-blue.svg)](https://github.com/leiyangleon/FSH/blob/master/LICENSE)
[![Citation](https://img.shields.io/badge/DOI-10.1109/TGRS.2018.2860590-blue)](https://doi.org/10.1109/TGRS.2018.2860590)

<img src="preview.jpg" width="100%">

# Forest Stand Height (FSH) Python Scripts
- Windows (Anaconda Prompt)
- Linux
- OSX

Produced by the University of Massachusetts Microwave Remote Sensing Laboratory. 

Yang Lei, (ylei@caltech.edu, leiyangfrancis@gmail.com), Paul Siqueira (siqueira@ecs.umass.edu).

***Besides contacting the authors via email for technical questions, it is also recommended to [refer to the closed issues or open a new issue on GitHub](https://github.com/leiyangleon/FSH/issues).***


===================================================================================



## 1. [Installation](./installation.md)

## 2. [How to use](./how_to_run.md). 

- ***Please note that users will have to be able to generate their own interferograms.*** FSH was tested using PALSAR interferograms generated by ROIPAC and ISCE (up to v 2.2 use the insarApp.py workflow; 2.3+, use the stripmapApp.py workflow) software. Hence we provide three test_example folders ('test_example_ISCE_insarApp', 'test_example_ISCE_stripmapApp', 'test_example_ROIPAC'). Each folder contains a text file starting with 'NOTES_' describing how to obtain the example interferograms to be used to test this software installation. ***We recommend that the ISCE stripmapApp.py workflow is used, as the other options have been deprecated and are not actively supported***.

- Information and tutorials regarding ISCE and interferogram processing can be found at http://earthdef.caltech.edu/projects/isce_forum/boards. To those interested in pursuing their own interferogram processing, we used modified ISCE scripts which are provided with the FSH software, and described here: https://github.com/sgk0/FSH/blob/master/isce_preprocessing.md

## 3. [List of Python files and corresponding descriptions](./reference.md)

## 4. Update notes:

- Preprocessing scripts (in the folder "ISCE_processing_scripts") have been added for using ISCE's insarApp (ISCE v2.0, v2.1 and v2.2) and stripmapApp (ISCE v2.2, v2.3) with only 1 command line for actual data processing after appropriate setup. Test examples of using insarApp and stripmapApp are provided as well. All the [historial ISCE versions](https://winsar.unavco.org/software/isce) and the [current ISCE version](https://github.com/isce-framework/isce2) can be used to process ALOS-1 and ALOS-2 stripmap InSAR data.

- The Python 3 scripts are ready to use. Please use the folder "scripts_Py3" instead of the one using Python 2 ("scripts"). This Python 3 version of the scripts can be run the same as the Python 2 version (replacing "python" in all the following commands with "python3"), or can run in Google Colaboratory (with unix operating system) using [Exercise_1_FSH on the SERVIR Global GitHub](https://github.com/SERVIR/ForestStandHeight).

- Only 2 command lines are involved to automatically perform the forest height inversion and mosaicking task (1 command for FSH inversion and 1 for FSH mosaicking).

- In a future release of the software, backscatter-inverted mosaic map will also be incorporated to this InSAR coherence-based mosaic map to generate a final mosaic of FSH (see the [citation](https://ieeexplore.ieee.org/document/8439086)).


===================================================================================



  
## License:

Forest Stand Height (FSH) Python Scripts. This software performs the automated forest height inversion and mosaicking from spaceborne repeat-pass L-band HV-pol InSAR correlation magnitude data (e.g. JAXA’s ALOS-1/2, and the future NASA-ISRO’s NISAR) that have been pre-processed by JPL’s ROI_PAC and/or ISCE programs.

Copyright (C) 2017  Yang Lei, Paul Siqueira, Tracy Whelen.

This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. 

This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details. 

You should have received a copy of the GNU General Public License along with this program.  If not, see <http://www.gnu.org/licenses/>.


## Citation:
Lei, Y., Siqueira, P., Torbick, N., Ducey, M., Chowdhury, D. and Salas, W., 2019. [Generation of Large-Scale Moderate-Resolution Forest Height Mosaic With Spaceborne Repeat-Pass SAR Interferometry and Lidar](https://ieeexplore.ieee.org/document/8439086). IEEE Transactions on Geoscience and Remote Sensing, 57(2), pp.770-787.

## Related publications and book chapters:
1. Lei, Y. and Siqueira, P., 2014. [Estimation of forest height using spaceborne repeat-pass L-Band InSAR correlation magnitude over the US State of Maine](https://www.mdpi.com/2072-4292/6/11/10252). Remote Sensing, 6(11), pp.10252-10285.

2. Lei, Y. and Siqueira, P., 2015. [An automatic mosaicking algorithm for the generation of a large-scale forest height map using spaceborne repeat-pass InSAR correlation magnitude](https://www.mdpi.com/2072-4292/7/5/5639). Remote Sensing, 7(5), pp.5639-5659.

3. (**RECENT**) Lei, Y., Siqueira, P., Torbick, N., Ducey, M., Chowdhury, D. and Salas, W., 2019. [Generation of Large-Scale Moderate-Resolution Forest Height Mosaic With Spaceborne Repeat-Pass SAR Interferometry and Lidar](https://ieeexplore.ieee.org/document/8439086). IEEE Transactions on Geoscience and Remote Sensing, 57(2), pp.770-787.

4. The scripts have been updated to Python 3 as part of a workshop supporting [Chapter 4](https://gis1.servirglobal.net/TrainingMaterials/SAR/Chp4.pdf) (with [tutorial](https://gis1.servirglobal.net/TrainingMaterials/SAR/Chp4_appendixC.pdf)) of the [SAR Handbook](https://servirglobal.net/Global/Articles/Article/2674/sar-handbook-comprehensive-methodologies-for-forest-monitoring-and-biomass-estimation). Flores-Anderson, Africa Ixmucane, Herndon, Kelsey E., Thapa, Rajesh Bahadur, and Cherrington, Emil, eds. [SAR Handbook: Comprehensive Methodologies for Forest Monitoring and Biomass Estimation](https://servirglobal.net/Global/Articles/Article/2674/sar-handbook-comprehensive-methodologies-for-forest-monitoring-and-biomass-estimation) (Huntsville, AL: SERVIR GLobal Science Coordination Office, 2019). DOI: 10.25966/nr2c-s697.

## Contributors
- Yang Lei
- Tracy Whelen
- Paul Siqueira
- Diya Chowdhury
- Gerard Ruiz Carregal
- Thannarot Kunlamai
- Tim Mayer
- Helen Baldwin
- Simon Kraatz
